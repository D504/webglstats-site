{
  "version": 3,
  "sources": [
    "lib/require.coffee",
    "src/index.coffee",
    "src/views/index.coffee",
    "src/views/extensions.coffee",
    "src/views/parameters.coffee",
    "src/views/main.coffee",
    "src/views/db.coffee",
    "src/views/navlist.coffee",
    "src/chart/index.coffee",
    "src/chart/stacked-percentage.coffee",
    "src/chart/gauge.coffee",
    "src/chart/series.coffee",
    "src/views/filter.coffee",
    "src/views/tree.coffee",
    "src/views/event-hub.coffee",
    "src/chart/bar.coffee",
    "src/util.coffee",
    "src/views/behavior.coffee",
    "src/views/search.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "### does not work as expected\nwindow.onerror = (message, url, line, column, error) ->\n    #console.log message, url, line, column, error\n    #console.log error.message\n    #console.log [error.stack.toString()]\n\n    lines = error.stack.split('\\n')\n    result = [lines.shift()]\n    for line in lines\n        result.push(line)\n        result.push('        http://clients.codeflow.org/inzept3d/dev/src/webgl/index.coffee:3')\n\n    lines = result.join('\\n')\n\n    console.error lines\n###\n\nmoduleManager =\n    File: class File\n        constructor: (@manager, @absPath) ->\n            if not @manager.files[@absPath]?\n                throw new Error(\"file does not exist: #{@absPath}\")\n        read: -> @manager.files[@absPath]\n\n    modules: {}\n    files: {}\n    module: (name, closure) ->\n        @modules[name] =\n            closure: closure\n            instance: null\n\n    text: (name, content) ->\n        @files[name] = content\n\n    index: ->\n        @getLocation()\n        @import('/index')\n\n    getLocation: ->\n        if self.document?\n            scripts = document.getElementsByTagName 'script'\n            script = scripts[scripts.length-1]\n            @script = script.src\n        else\n            @script = self.location.href\n\n        @location = @script[...@script.lastIndexOf('/')+1]\n\n    abspath: (fromName, pathName) ->\n        if pathName == '.'\n            pathName = ''\n\n        baseName = fromName.split('/')\n        baseName.pop()\n        baseName = baseName.join('/')\n\n        if pathName[0] == '/'\n            return pathName\n        else\n            path = pathName.split '/'\n            if baseName == '/'\n                base = ['']\n            else\n                base = baseName.split '/'\n\n            while base.length > 0 and path.length > 0 and path[0] == '..'\n                base.pop()\n                path.shift()\n\n            if base.length == 0 || path.length == 0 || base[0] != ''\n                throw new Error(\"Invalid path: #{base.join '/'}/#{path.join '/'}\")\n            return \"#{base.join('/')}/#{path.join('/')}\"\n    \n    import: (moduleName) ->\n        if moduleName?\n            module = @modules[moduleName]\n\n            if module == undefined\n                module = @modules[moduleName+'/index']\n                if module?\n                    moduleName = moduleName+'/index'\n                else\n                    throw new Error('Module not found: ' + moduleName)\n            \n            if module.instance == null\n                require = (requirePath) =>\n                    path = @abspath(moduleName, requirePath)\n                    return @import(path)\n\n                exports = {}\n                sys = {\n                    script: @script\n                    location: @location\n                    import: (requirePath) =>\n                        path = @abspath(moduleName, requirePath)\n                        return @import(path)\n                    file: (path) =>\n                        path = @abspath(moduleName, path)\n                        return new @File(@, path)\n                    File: File\n                }\n                module.closure(exports, sys)\n                if exports.index?\n                    module.instance = exports.index\n                else\n                    module.instance = exports\n\n            return module.instance\n        else\n            throw new Error('no module name provided')\n",
    "navLists = []\nViews = sys.import 'views'\n\n$ ->\n    views = new Views()\n\n    document.addEventListener 'click', (event) ->\n        target = event.target ? event.srcElement\n        if target.tagName == 'A'\n            href = target.getAttribute('href')\n            if href? and href.startsWith('/')\n                event.preventDefault()\n                history.pushState(null, null, href)\n                views.handle(href)\n\n    $('nav > div.content').slimScroll(height:'auto')\n\n    window.addEventListener 'popstate', ->\n        query = new URLSearchParams(document.location.search)\n        views.handle(document.location.pathname, query)\n\n    path = document.location.pathname\n    query = new URLSearchParams(document.location.search)\n    views.handle(path, query, true)\n\n    $('.navtoggle').click ->\n        $('body').toggleClass('sidebar')\n\n    $('form.search').submit (event) ->\n        term = $(@).find('input[type=text]').val()\n        query = \"?query=#{term}\"\n        history.pushState(null, null, \"/search#{query}\")\n        query = new URLSearchParams(query)\n        views.handle('/search', query)\n        event.preventDefault()\n        event.stopPropagation()\n",
    "Parameters = sys.import 'parameters'\nExtensions = sys.import 'extensions'\nMain = sys.import 'main'\nFilter = sys.import 'filter'\nSearch = sys.import 'search'\ndb = sys.import 'db'\n\nexports.index = class Views\n    constructor: ->\n        db.init()\n\n        @search = new Search()\n        @filter = new Filter('#filter')\n        @main = new Main(@filter, @search)\n        @parameters = new Parameters(@filter, @search)\n        @extensions = new Extensions(@filter, @search)\n\n    handle: (path, query, pageload=false) ->\n        $('main').empty()\n\n        if path == '/'\n            @main.show(pageload)\n            @extensions.overview(pageload)\n            #@parameters.overview(pageload) #these charts are not really informative\n        else if path == '/search'\n            @search.show(query, pageload)\n        else\n            path = path[1...]\n            parts = path.split('/')\n            console.assert parts.shift() == 'webgl'\n            category = parts.shift()\n            name = parts.shift()\n\n            switch category\n                when 'parameter' then @parameters.show(name, pageload)\n                when 'extension' then @extensions.show(name, pageload)\n",
    "db = sys.import 'db'\nutil = sys.import '/util'\n{Gauge, Series, StackedPercentage} = sys.import '/chart'\nNavlistExpand = sys.import 'navlist'\n\ninfo =\n    blend_minmax:\n        prefix: 'EXT'\n        description: '''\n            This extension allows for a blending mode that uses the minimum or maximum of the incoming and present color.\n            It is useful for medical imaging, volume rendering and general purpose computation on the gpu.\n        '''\n        spec: '/extensions/EXT_blend_minmax/'\n    color_buffer_float:\n        prefix: 'WEBGL'\n        description: '''\n            This extension allows to render into a floating point texture. \n            <br/><br/>\n            For historical reasons this is not reliably indicative of renderable floating point textures, and actual support has to be tested individually.\n        '''\n        spec: '/extensions/WEBGL_color_buffer_float/'\n    color_buffer_half_float:\n        prefix: 'EXT'\n        description: '''\n            This extension allows to render into a half precision floating point texture.\n        '''\n        spec: '/extensions/EXT_color_buffer_half_float/'\n    compressed_texture_astc:\n        prefix: 'WEBGL'\n        description: '''\n            Offers compressed texture format support for <a href=\"https://en.wikipedia.org/wiki/Adaptive_Scalable_Texture_Compression\">ASTC</a>\n        '''\n        spec: 'https://www.khronos.org/registry/webgl/extensions/WEBGL_compressed_texture_astc/'\n    compressed_texture_atc:\n        prefix: 'WEBGL'\n        description: '''\n            Offers compressed texture format support for ATC.\n        '''\n        spec: '/extensions/WEBGL_compressed_texture_atc/'\n    compressed_texture_etc1:\n        prefix: 'WEBGL'\n        description: '''\n            Offers compressed texture format support for <a href=\"https://en.wikipedia.org/wiki/Ericsson_Texture_Compression\">ETC1</a>.\n        '''\n        spec: '/extensions/WEBGL_compressed_texture_etc1/'\n    compressed_texture_pvrtc:\n        prefix: 'WEBGL'\n        description: '''\n            Offers compressed texture format support for <a href=\"https://en.wikipedia.org/wiki/PVRTC\">PVRTC</a>.\n        '''\n        spec: '/extensions/WEBGL_compressed_texture_pvrtc/'\n    compressed_texture_s3tc:\n        prefix: 'WEBGL'\n        description: '''\n            Offers compressed texture format support for <a href=\"https://en.wikipedia.org/wiki/S3_Texture_Compression\">S3TC</a>.\n        '''\n        spec: '/extensions/WEBGL_compressed_texture_s3tc/'\n    debug_renderer_info:\n        prefix: 'WEBGL'\n        description: '''\n            Allows to query the GPU vendor and model.\n        '''\n        spec: '/extensions/WEBGL_debug_renderer_info/'\n    depth_texture:\n        prefix: 'WEBGL'\n        description: '''\n            This extension offers the ability to create depth textures to attach to a framebuffer.\n        '''\n        spec: '/extensions/WEBGL_depth_texture/'\n    disjoint_timer_query:\n        prefix: 'EXT'\n        description: '''\n            This extension offers support for querying the execution time of commands on the GPU.\n        '''\n        spec: '/extensions/EXT_disjoint_timer_query/'\n    draw_buffers:\n        prefix: 'WEBGL'\n        description: '''\n            This extension allows a framebuffer to hold several textures to render to and a fragment shader to output to them.\n        '''\n        spec: '/extensions/WEBGL_draw_buffers/'\n        params: [\n            'MAX_COLOR_ATTACHMENTS_WEBGL'\n            'MAX_DRAW_BUFFERS_WEBGL'\n        ]\n    element_index_uint:\n        prefix: 'OES'\n        description: '''\n            This extension allows for vertex buffer array indicies to be 32-bit unsigned integers.\n        '''\n        spec: '/extensions/OES_element_index_uint/'\n    frag_depth:\n        prefix: 'EXT'\n        description: '''\n            This extension allows a fragment shader to write the depth of a fragment.\n        '''\n        spec: '/extensions/EXT_frag_depth/'\n    instanced_arrays:\n        prefix: 'ANGLE'\n        description: '''\n            This extension offers the ability to repeat some vertex attributes, which can be used to render many instances of an object.\n        '''\n        spec: '/extensions/ANGLE_instanced_arrays/'\n    lose_context:\n        prefix: 'WEBGL'\n        description: '''\n            This extension simulates a context loss and regain for testing purposes.\n        '''\n        spec: '/extensions/WEBGL_lose_context/'\n    sRGB:\n        prefix: 'EXT'\n        description: '''\n            This extension offers a texture format whose internal storage is sRGB.\n        '''\n        spec: '/extensions/EXT_sRGB/'\n    shader_texture_lod:\n        prefix: 'EXT'\n        description: '''\n            This extension allows a texture lookup in a fragment shader to specify a LOD level explicitely.\n        '''\n        spec: '/extensions/EXT_shader_texture_lod/'\n    standard_derivatives:\n        prefix: 'OES'\n        description: '''\n            This extension allows a fragment shader to obtain the derivatives of a value in regards to neighboring fragments.\n        '''\n        spec: '/extensions/OES_standard_derivatives/'\n    texture_filter_anisotropic:\n        prefix: 'EXT'\n        description: '''\n            This extension allows textures to be filtered anisotropically.\n        '''\n        spec: '/extensions/EXT_texture_filter_anisotropic/'\n        params: [\n            'MAX_TEXTURE_MAX_ANISOTROPY_EXT'\n        ]\n    texture_float:\n        prefix: 'OES'\n        description: '''\n            This extension offers basic support for 32-bit floating point textures.\n        '''\n        spec: '/extensions/OES_texture_float/'\n    texture_float_linear:\n        prefix: 'OES'\n        description: '''\n            This extension offers the ability to linearly filter 32-bit floating point textures.\n        '''\n        spec: '/extensions/OES_texture_float_linear/'\n    texture_half_float:\n        prefix: 'OES'\n        description: '''\n            This extension offers basic support for 16-bit floating point textures.\n        '''\n        spec: '/extensions/OES_texture_half_float/'\n    texture_half_float_linear:\n        prefix: 'OES'\n        description: '''\n            This extension offers the ability to linearly filter 16-bit floating point textures.\n        '''\n        spec: '/extensions/OES_texture_half_float_linear/'\n    vertex_array_object:\n        prefix: 'OES'\n        description: '''\n            This extension provides a way to group vertex attribute pointer configurations into an object for later use.\n        '''\n        spec: '/extensions/OES_vertex_array_object/'\n\nnames = [\n    'blend_minmax'\n    'color_buffer_float'\n    'color_buffer_half_float'\n    'compressed_texture_astc'\n    'compressed_texture_atc'\n    #'compressed_texture_es3' #was recently renamed\n    'compressed_texture_etc1'\n    'compressed_texture_pvrtc'\n    'compressed_texture_s3tc'\n    'debug_renderer_info'\n    'depth_texture'\n    'disjoint_timer_query'\n    'draw_buffers'\n    'element_index_uint'\n    'frag_depth'\n    'instanced_arrays'\n    'lose_context'\n    'sRGB'\n    'shader_texture_lod'\n    'standard_derivatives'\n    'texture_filter_anisotropic'\n    'texture_float'\n    'texture_float_linear'\n    'texture_half_float'\n    'texture_half_float_linear'\n    'vertex_array_object'\n]\n\nexports.index = class Extensions\n    constructor: (@filter, search) ->\n        @nav = new NavlistExpand('#extension', 'extension', names)\n\n        @buildSearch(search)\n    \n    buildSearch: (search) ->\n        for name in names\n            do (name) =>\n                meta = info[name]\n                search.add\n                    id: \"/webgl/extension/#{name}\"\n                    titles: [\n                        meta.prefix + '_' + name\n                        name\n                        name.replace(/_/g, ' ')\n                    ]\n                    body: meta.description\n                    extra: if meta.params? then meta.params.join(' ') else null\n                    type: 'Extension'\n                    gauge: =>\n                        @gauge(name)\n\n    show: (name, pageload) ->\n        @nav.activate(name, pageload)\n\n        row = $('<div></div>')\n            .addClass('row')\n            .addClass('responsive')\n            .appendTo('main')\n        \n        col = $('<div></div>')\n            .appendTo(row)\n\n        widget = $('<div class=\"box\"></div>')\n            .appendTo(col)\n\n        $('<h1></h1>')\n            .text(info[name].prefix + '_' + name)\n            .appendTo(widget)\n\n        $('<p></p>')\n            .append(info[name].description)\n            .appendTo(widget)\n\n        $('<a>Specification</a>')\n            .attr('href', 'https://www.khronos.org/registry/webgl' + info[name].spec)\n            .appendTo(widget)\n\n        col = $('<div></div>')\n            .appendTo(row)\n\n        widget = $('<div class=\"box\"></div>')\n            .appendTo(col)\n\n        @day30view(name, widget)\n\n        widget = $('<div class=\"full box\"></div>')\n            .appendTo('main')\n\n        @series(name)\n            .appendTo(widget)\n\n        if info[name].params?\n            for param in info[name].params\n                widget = $('<div class=\"full box\"></div>')\n                    .appendTo('main')\n\n                $('<h1></h1>')\n                    .text(param)\n                    .appendTo(widget)\n                @stackedPercentage(name, param)\n                    .appendTo(widget)\n\n    overview: (pageload) ->\n        flow = $('<div class=\"flow box\"></div>')\n            .appendTo('main')\n\n        $('<h1>Extensions</h1>')\n            .appendTo(flow)\n\n        for name in names\n            container = $('<div></div>')\n                .appendTo(flow)\n\n            @gauge(name)\n                .appendTo(container)\n\n            $('<a class=\"label\"></a>')\n                .attr('href', \"/webgl/extension/#{name}\")\n                .text(name)\n                .appendTo(container)\n\n    gauge: (name, size='small', label=null, device=null) ->\n        chart = new Gauge(label:label, size:size)\n        \n        fieldName = \"webgl.extensions.#{info[name].prefix}_#{name}\"\n\n        initial = true\n        update = =>\n            chart.elem.addClass('spinner')\n            if document.body.contains(chart.elem[0]) or initial\n                initial = false\n                query =\n                    filterBy:\n                        webgl:true\n                    bucketBy:fieldName\n                    start: -30\n\n                if device?\n                    query.filterBy['useragent.device'] = device\n\n                if @filter.platforms?\n                    query.filterBy.platform = @filter.platforms\n\n                db.execute\n                    query: query\n                    success: (result) ->\n                        if result.total > 0\n                            percentage = result.values[1]/result.total\n                        else\n                            percentage = 0\n                        chart.setLabel(label + \" (#{util.formatNumber(result.total)})\")\n                        chart.update(percentage*100)\n                        chart.elem.removeClass('spinner')\n            else\n                @filter.offChange(update)\n        @filter.onChange(update)\n        update()\n        \n        return chart.elem\n\n    series: (name) ->\n        fieldName = \"webgl.extensions.#{info[name].prefix}_#{name}\"\n        \n        chart = new Series()\n\n        initial = true\n        update = =>\n            if document.body.contains(chart.elem[0]) or initial\n                initial = false\n                query =\n                    filterBy:\n                        webgl:true\n                    bucketBy:fieldName\n                    series: 'daily'\n\n                if @filter.platforms?\n                    query.filterBy.platform = @filter.platforms\n\n                db.execute\n                    query: query\n                    success: (result) ->\n                        chart.update(result.values)\n            else\n                @filter.offChange(update)\n\n        @filter.onChange(update)\n        update()\n\n        return chart.elem\n\n    stackedPercentage: (name, param) ->\n        extname = \"webgl.extensions.#{info[name].prefix}_#{name}\"\n        fieldname = \"#{extname}.#{param}\"\n        chart = new StackedPercentage()\n\n        initial = true\n        update = =>\n            if document.body.contains(chart.elem[0]) or initial\n                initial = false\n                query =\n                    filterBy:\n                        webgl:true\n                        \"#{extname}\":true\n                    bucketBy:fieldname\n                    series: 'daily'\n\n                if @filter.platforms?\n                    query.filterBy.platform = @filter.platforms\n\n                db.execute\n                    query: query\n                    success: (result) ->\n                        keys = result.keys\n                        xLabels = []\n                        data = []\n                        \n                        if keys[0] == null\n                            valueStart = 1\n                            keys.shift()\n                        else\n                            valueStart = 0\n\n                        for item in result.values\n                            xLabels.push(item.name)\n                            values = []\n\n                            for value in item.values[valueStart...]\n                                if item.total == 0\n                                    values.push(0)\n                                else\n                                    values.push(value/item.total)\n\n                            data.push(values)\n\n                        chart.update\n                            areaLabels: keys\n                            xLabels: xLabels\n                            data: data\n            else\n                @filter.offChange(update)\n        update()\n        @filter.onChange(update)\n\n        return $(chart.elem)\n\n    day30view: (name, parent) ->\n        $('<h1>Support (30 days)</h1>')\n            .appendTo(parent)\n\n        row = $('<div class=\"row center\"></div>')\n            .appendTo(parent)\n\n        col = $('<div></div>')\n            .appendTo(row)\n\n        @gauge(name, 'large', 'All')\n            .appendTo(col)\n\n        smallCharts = $('<div></div>')\n            .appendTo(row)\n\n        row = $('<div class=\"row center\"></div>')\n            .appendTo(smallCharts)\n        \n        col = $('<div></div>').appendTo(row)\n        @gauge(name, 'small', 'Desktop', 'desktop').appendTo(col)\n        \n        col = $('<div></div>').appendTo(row)\n        @gauge(name, 'small', 'Smartphone', 'smartphone').appendTo(col)\n        \n        row = $('<div class=\"row center\"></div>')\n            .appendTo(smallCharts)\n        \n        col = $('<div></div>').appendTo(row)\n        @gauge(name, 'small', 'Tablet', 'tablet').appendTo(col)\n        \n        col = $('<div></div>').appendTo(row)\n        @gauge(name, 'small', 'Console', 'game_console').appendTo(col)\n\n",
    "db = sys.import 'db'\nNavlistExpand = sys.import 'navlist'\n{StackedPercentage, Bar} = sys.import '/chart'\n\ninfo =\n    ALIASED_LINE_WIDTH_RANGE:\n        description: '''\n            The maximum thickness of line that can be rendered.\n        '''\n    ALIASED_POINT_SIZE_RANGE:\n        description: '''\n            The maximum size of point that can be rendered.\n        '''\n    DEPTH_BITS:\n        description: '''\n            The number of bits for the front depthbuffer. Bits may differ in case of a framebuffer.\n        '''\n    MAX_COMBINED_TEXTURE_IMAGE_UNITS:\n        description: '''\n            The maximum number of texture units that can be used.\n            If a unit is used by both vertex and fragment shader, this counts as two units against this limit.\n        '''\n    MAX_CUBE_MAP_TEXTURE_SIZE:\n        description: '''\n            The maximum size of one side of a cubemap.\n        '''\n    MAX_FRAGMENT_UNIFORM_VECTORS:\n        description: '''\n            The maximum number of 4-element vectors that can be passed as uniform to the vertex shader. All uniforms are 4-element aligned, a single uniform counts at least as one 4-element vector.\n        '''\n    MAX_RENDERBUFFER_SIZE:\n        description: '''\n            The largest renderbuffer that can be used. This limit indicates the maximum usable canvas size as well as the maximum usable framebuffer size.\n        '''\n    MAX_TEXTURE_IMAGE_UNITS:\n        description: '''\n            The maxium number of texture units that can be used in a fragment shader.\n        '''\n    MAX_TEXTURE_SIZE:\n        description: '''\n            The largest texture size (either width or height) that can be created. Note that VRAM may not allow a texture of any given size, it just expresses hardware/driver support for a given size.\n        '''\n    MAX_VARYING_VECTORS:\n        description: '''\n            The maximum number of 4-element vectors that can be used as varyings. Each varying counts as at least one 4-element vector.\n        '''\n    MAX_VERTEX_ATTRIBS:\n        description: '''\n            The maximum number of 4-element vectors that can be used as attributes to a vertex shader. Each attribute counts as at least one 4-element vector.\n        '''\n    MAX_VERTEX_TEXTURE_IMAGE_UNITS:\n        description: '''\n            The maximum number of texture units that can be used by a vertex shader. The value may be 0 which indicates no vertex shader texturing support.\n        '''\n    MAX_VERTEX_UNIFORM_VECTORS:\n        description: '''\n            The maximum number of 4-element vectors that can be passed as uniform to a vertex shader.  All uniforms are 4-element aligned, a single uniform counts at least as one 4-element vector. \n        '''\n    MAX_VIEWPORT_DIMS:\n        description: '''\n            The maximum viewport dimension (either width or height), that the viewport can be set to.\n        '''\n    SAMPLES:\n        description: '''\n            Indicates the coverage mask of the front framebuffer. This value affects anti-aliasing and depth to coverage. For instance a value of 4 would indicate a 4x4 mask.\n        '''\n    SAMPLE_BUFFERS:\n        description: '''\n            Indicates if a sample buffer is associated with the front framebuffer, this indicates support for anti-aliasing and alpha to coverage support.\n        '''\n    STENCIL_BITS:\n        description: '''\n            The number of bits of the front framebuffer usable for stenciling.\n        '''\n    SUBPIXEL_BITS:\n        description: '''\n            The bit-precision used to position primitives in window coordinates.\n        '''\n\nnames = [\n    'ALIASED_LINE_WIDTH_RANGE'\n    'ALIASED_POINT_SIZE_RANGE'\n    'DEPTH_BITS'\n    'MAX_COMBINED_TEXTURE_IMAGE_UNITS'\n    'MAX_CUBE_MAP_TEXTURE_SIZE'\n    'MAX_FRAGMENT_UNIFORM_VECTORS'\n    'MAX_RENDERBUFFER_SIZE'\n    'MAX_TEXTURE_IMAGE_UNITS'\n    'MAX_TEXTURE_SIZE'\n    'MAX_VARYING_VECTORS'\n    'MAX_VERTEX_ATTRIBS'\n    'MAX_VERTEX_TEXTURE_IMAGE_UNITS'\n    'MAX_VERTEX_UNIFORM_VECTORS'\n    'MAX_VIEWPORT_DIMS'\n    'SAMPLES'\n    'SAMPLE_BUFFERS'\n    'STENCIL_BITS'\n    'SUBPIXEL_BITS'\n]\n\nfieldNames =\n    MAX_VIEWPORT_DIMS: 'MAX_VIEWPORT_DIMS.width'\n    ALIASED_LINE_WIDTH_RANGE: 'ALIASED_LINE_WIDTH_RANGE.max'\n    ALIASED_POINT_SIZE_RANGE: 'ALIASED_POINT_SIZE_RANGE.max'\n\nexports.index = class Parameters\n    constructor: (@filter, search) ->\n        @nav = new NavlistExpand('#parameter', 'parameter', names)\n        @buildSearch(search)\n\n    buildSearch: (search) ->\n        for name in names\n            search.add\n                id: \"/webgl/parameter/#{name}\"\n                titles: [\n                    name\n                    name.replace(/_/g, ' ')\n                ]\n                body: info[name].description\n                type: 'Parameter'\n\n    show: (name, pageload) ->\n        @nav.activate(name, pageload)\n\n        row = $('<div class=\"row responsive\"></div>')\n            .appendTo('main')\n        \n        col = $('<div></div>')\n            .appendTo(row)\n\n        widget = $('<div class=\"box\"></div>')\n            .appendTo(col)\n\n        $('<h1></h1>')\n            .text(name)\n            .appendTo(widget)\n\n        $('<div></div>')\n            .append(info[name].description)\n            .appendTo(widget)\n\n        col = $('<div></div>')\n            .appendTo(row)\n\n        widget = $('<div class=\"box\"></div>')\n            .appendTo(col)\n\n        $('<h1>Support (30 days)</h1>')\n            .appendTo(widget)\n\n        @barchart(name).appendTo(widget)\n        \n        full = $('<div class=\"full box\"></div>')\n            .appendTo('main')\n\n        @series(name).appendTo(full)\n\n    overview: ->\n        flow = $('<div class=\"flow box\"></div>')\n            .appendTo('main')\n\n        $('<h1>Parameters</h1>')\n            .appendTo(flow)\n\n        for name in names\n            container = $('<div></div>')\n                .appendTo(flow)\n\n            @chart(name).appendTo(container)\n\n            $('<a class=\"label\"></a>')\n                .attr('href', \"/webgl/parameter/#{name}\")\n                .text(name)\n                .appendTo(container)\n\n    series: (name) ->\n        if fieldNames[name]?\n            fieldName = \"webgl.params.#{fieldNames[name]}\"\n        else\n            fieldName = \"webgl.params.#{name}\"\n\n        chart = new StackedPercentage()\n\n        initial = true\n        update = =>\n            if document.body.contains(chart.elem[0]) or initial\n                initial = false\n                query =\n                    filterBy:\n                        webgl:true\n                    bucketBy:fieldName\n                    series: 'daily'\n\n                if @filter.platforms?\n                    query.filterBy.platform = @filter.platforms\n\n                db.execute\n                    query: query\n                    success: (result) ->\n                        keys = result.keys\n                        xLabels = []\n                        data = []\n                        \n                        if keys[0] == null\n                            valueStart = 1\n                            keys.shift()\n                        else\n                            valueStart = 0\n\n                        for item in result.values\n                            xLabels.push(item.name)\n                            values = []\n\n                            for value in item.values[valueStart...]\n                                if item.total == 0\n                                    values.push(0)\n                                else\n                                    values.push(value/item.total)\n\n                            data.push(values)\n\n                        chart.update\n                            areaLabels: keys\n                            xLabels: xLabels\n                            data: data\n            else\n                @filter.offChange(update)\n        update()\n        @filter.onChange(update)\n\n        return $(chart.elem)\n\n    barchart: (name) ->\n        if fieldNames[name]?\n            fieldName = \"webgl.params.#{fieldNames[name]}\"\n        else\n            fieldName = \"webgl.params.#{name}\"\n                \n        chart = new Bar()\n\n        initial = true\n        update = =>\n            if document.body.contains(chart.elem[0]) or initial\n                initial = false\n                query =\n                    filterBy:\n                        webgl:true\n                    bucketBy:fieldName\n                    start: -30\n\n                if @filter.platforms?\n                    query.filterBy.platform = @filter.platforms\n\n                db.execute\n                    query: query\n                    success: (result) ->\n                        values = result.values\n                        keys = result.keys\n                        if not keys[0]?\n                            values.shift()\n                            keys.shift()\n                        chart.update(keys, values)\n            else\n                @filter.offChange(update)\n        @filter.onChange(update)\n        update()\n\n        return chart.elem\n\n    chart: (name) ->\n        if fieldNames[name]?\n            fieldName = \"webgl.params.#{fieldNames[name]}\"\n        else\n            fieldName = \"webgl.params.#{name}\"\n\n        container = $('<div></div>')\n        \n        db.execute\n            query:\n                filterBy:\n                    webgl:true\n                bucketBy:fieldName\n                start: -30\n            success: (result) ->\n                values = result.values\n                keys = result.keys\n                if not keys[0]?\n                    values.shift()\n                    keys.shift()\n\n                container.sparkline values,\n                    type:'bar'\n                    chartRangeMin:0\n                    height:100\n                    barWidth: 8\n                    #width: 100\n                    tooltipFormatter: (sparkline, options, fields) ->\n                        offset = fields[0].offset\n                        value = fields[0].value\n                        label = result.keys[offset]\n                        return \"<span>#{label} - #{(value*100/result.total).toFixed(0)}%</span>\"\n\n        return container\n",
    "db = sys.import 'db'\nextensions = sys.import 'extensions'\nutil = sys.import '/util'\nbehavior = sys.import 'behavior'\nParameters = sys.import 'parameters'\n{Gauge, Series} = sys.import '/chart'\n\nexports.index = class Main\n    constructor: (@filter, search) ->\n        behavior.activatable @\n        search.add\n            id: '/'\n            titles: 'WebGL Support'\n            body: @info($('<div></div>')).text()\n            type: 'Overview'\n            gauge: @gauge\n       \n    info: (parent) ->\n        $('''<p>\n            The statistics on this site help WebGL developers make decisions about hardware capabilities. \n        </p>''').appendTo(parent)\n        \n        $('''<p>\n            If you want help collecting data just embedd the code below into your page.\n        </p>''').appendTo(parent)\n\n        \n        $('''\n            <pre>&lt;script src=&quot;//cdn.webglstats.com/stat.js&quot;\n                defer async&gt;&lt;/script&gt;</pre>''')\n            .appendTo(parent)\n        \n        $('''<p>\n            You can check out the code for this site on <a href=\"https://github.com/pyalot/webglstats-site\">github</a>.\n        </p>''').appendTo(parent)\n\n        return parent\n\n    show: ->\n        behavior.deactivate()\n        behavior.collapse(@)\n\n        row = $('<div></div>')\n            .addClass('row')\n            .addClass('responsive')\n            .appendTo('main')\n        \n        col = $('<div></div>')\n            .appendTo(row)\n\n        widget = $('<div class=\"box\"></div>')\n            .appendTo(col)\n\n        $('<h1>WebGL</h1>')\n            .appendTo(widget)\n\n        @info widget\n\n        col = $('<div></div>')\n            .appendTo(row)\n\n        widget = $('<div class=\"box\"></div>')\n            .appendTo(col)\n        \n        $('<h1>Support (30 days)</h1>')\n            .appendTo(widget)\n        \n        row = $('<div class=\"row center\"></div>')\n            .appendTo(widget)\n\n        col = $('<div></div>')\n            .appendTo(row)\n        \n        @gauge('large', 'All')\n            .appendTo(col)\n\n        smallCharts = $('<div></div>')\n            .appendTo(row)\n\n        row = $('<div class=\"row center\"></div>')\n            .appendTo(smallCharts)\n        \n        col = $('<div></div>').appendTo(row)\n        @gauge('small', 'Desktop', 'desktop').appendTo(col)\n        \n        col = $('<div></div>').appendTo(row)\n        @gauge('small', 'Smartphone', 'smartphone').appendTo(col)\n        \n        row = $('<div class=\"row center\"></div>')\n            .appendTo(smallCharts)\n        \n        col = $('<div></div>').appendTo(row)\n        @gauge('small', 'Tablet', 'tablet').appendTo(col)\n        \n        col = $('<div></div>').appendTo(row)\n        @gauge('small', 'Console', 'game_console').appendTo(col)\n\n        widget = $('<div class=\"full box\"></div>')\n            .appendTo('main')\n\n        $('<h1>WebGL Support</h1>')\n            .appendTo(widget)\n\n        @series().appendTo(widget)\n\n    gauge: (size='small', label=null, device=null) =>\n        chart = new Gauge(label:label, size:size)\n\n        query =\n            filterBy: {}\n            bucketBy:'webgl'\n            start: -30\n\n        if device?\n            query.filterBy['useragent.device'] = device\n\n        initial = true\n        update = =>\n            if document.body.contains(chart.elem[0]) or initial\n                chart.elem.addClass('spinner')\n                initial = false\n                if @filter.platforms?\n                    query.filterBy.platform = @filter.platforms\n                else\n                    delete query.filterBy.platform\n\n                db.execute\n                    query: query\n                    success: (result) ->\n                        percentage = result.values[1]/result.total\n                        chart.setLabel(label + \" (#{util.formatNumber(result.total)})\")\n                        chart.update(percentage*100)\n                        chart.elem.removeClass('spinner')\n            else\n                @filter.offChange update\n        @filter.onChange update\n        update()\n\n        return chart.elem\n\n    series: ->\n        chart = new Series()\n\n        initial = true\n        update = =>\n            if document.body.contains(chart.elem[0]) or initial\n                initial = false\n                query =\n                    bucketBy:'webgl'\n                    series: 'daily'\n\n                if @filter.platforms?\n                    query.filterBy =\n                        platform: @filter.platforms\n\n                db.execute\n                    query: query\n                    success: (result) ->\n                        chart.update(result.values)\n            else\n                @filter.offChange update\n\n        @filter.onChange update\n        update()\n\n        return chart.elem\n\n    deactivate: ->\n        null\n",
    "progress = null\n\nexports.init = ->\n    progress = $('<div class=\"progress\"></div>')\n        .appendTo('header')\n\nrequested = 0\ncompleted = 0\nvisible = false\nfadeOuttimeout = null\n\nfadeOut = ->\n    visible = false\n    progress.hide()\n\nupdateProgress = ->\n    f = completed/requested\n    progress.width((100-f*100).toFixed(0) + '%')\n\nstartRequest = ->\n    if not visible\n        progress.show()\n        visible = true\n        requested = 0\n        completed = 0\n\n    requested += 1\n    updateProgress()\n\n    if fadeOutTimeout?\n        clearTimeout(fadeOutTimeout)\n        fadeOutTimeout = null\n\ncompleteRequest = ->\n    completed += 1\n    updateProgress()\n\n    if completed == requested\n        if fadeOutTimeout?\n            clearTimeout(fadeOutTimeout)\n        fadeOutTimeout = setTimeout(fadeOut, 1000)\n\nexports.execute = ({query, success}) ->\n    startRequest()\n    $.post\n        url: 'https://data.webglstats.com/data',\n        data: JSON.stringify(query)\n        dataType: 'json'\n        success: (result) =>\n            completeRequest()\n            success(result)\n",
    "behavior = sys.import 'behavior'\n\nexports.index = class NavlistExpand\n    constructor: (id, @prefix, entries) ->\n        behavior.activatable @\n        behavior.collapsable @\n        @parent = $(id)\n        @link = @parent.find('a')\n\n        @list = $('<ul></ul>')\n            .appendTo(@parent)\n\n        @entries = {}\n        for entry in entries\n            @add(entry)\n\n        @list.css('display', 'block')\n        @height = @list[0].getBoundingClientRect().height\n        @list[0].style.height = '0px'\n        @link.on 'click', @toggle\n\n        @expanded = false\n\n    add: (name) ->\n        li = $('<li></li>').appendTo(@list)\n        $('<a></a>')\n            .appendTo(li)\n            .text(name)\n            .attr('href', \"/webgl/#{@prefix}/#{name}\") #FIXME for webgl2\n\n        @entries[name] = li\n\n    toggle: =>\n        if @expanded\n            @collapse()\n        else\n            @expand()\n\n    expand: (instant=false) ->\n        behavior.collapse(@)\n        @parent.addClass('expanded')\n\n        @expanded = true\n        if instant\n            @list.addClass('notransition')\n        @list[0].style.height = @height + 'px'\n        if instant\n            @list[0].getBoundingClientRect()\n            @list.removeClass('notransition')\n\n    collapse: (instant=false) ->\n        @parent.removeClass('expanded')\n        @expanded = false\n        if instant\n            @list.addClass('notransition')\n        @list[0].style.height = '0px'\n        if instant\n            @list[0].getBoundingClientRect()\n            @list.removeClass('notransition')\n\n    deactivate: ->\n        for name, entry of @entries\n            entry.removeClass('active')\n\n    activate: (name, instant=false) ->\n        behavior.deactivate()\n        @entries[name].addClass('active')\n        @expand(instant)\n",
    "exports.StackedPercentage = sys.import 'stacked-percentage'\nexports.Gauge = sys.import 'gauge'\nexports.Series = sys.import 'series'\nexports.Bar = sys.import 'bar'\n",
    "###\ncolorStops = [\n    [147,255,14]\n    [0,47,232]\n    [246,52,0]\n]\n\ncolorStops = [\n    [14,230,255]\n    [232,0,203]\n    [173,246,0]\n]\n###\n\ncolorStops = [\n    [160,0,65]\n    [94,76,164]\n    [44,135,191]\n    [98,195,165]\n    [170,222,162]\n    [230,246,147]\n    [255,255,188]\n    [255,255,133]\n    [255,175,89]\n    [246,109,58]\n]\n\nmix = (a, b, f) ->\n    return Math.round(a*(1-f) + b*f).toFixed(0)\n\ninterpolateColors = (f, stops) ->\n    c0 = Math.min(Math.floor(f*2), 1)\n    c1 = c0+1\n    f = (f%0.5)*2\n    c0 = stops[c0]\n    c1 = stops[c1]\n\n    r = mix(c0[0], c1[0], f)\n    g = mix(c0[1], c1[1], f)\n    b = mix(c0[2], c1[2], f)\n\n    return [r,g,b]\n\nclass Table\n    constructor: (parent) ->\n        @table = $('<table class=\"data-table\"></table>')\n            .appendTo(parent)\n        thead = $('<thead><tr><td/><td>Value</td><td>%</td><td>Cum.</td></thead>')\n            .appendTo(@table)\n        @tbody = $('<tbody></tbody>')\n            .appendTo(@table)\n\n    fill: (values) ->\n        @tbody.remove()\n        @tbody = $('<tbody></tbody>')\n            .appendTo(@table)\n\n        @rows = []\n\n        for value, n in values\n            [r,g,b] = colorStops[n%colorStops.length]\n            color = \"rgb(#{r},#{g},#{b})\"\n            row = $('<tr></tr>')\n                .appendTo(@tbody)\n            connector = $('<td></td>')\n                .css('background-color', color)\n                .appendTo(row)[0]\n            $('<td></td>')\n                .text(value)\n                .appendTo(row)\n\n            percent = $('<td class=\"percent\"></td>')\n                .appendTo(row)[0]\n\n            bar = $('<td class=\"bar\"><div></div></td>')\n                .appendTo(row)\n                .find('div')\n\n            @rows.push(connector:connector, percent:percent, bar:bar)\n\nclass Chart\n    constructor: (parent) ->\n        @canvas = $('<canvas class=\"plot\"></canvas>')\n            .appendTo(parent)[0]\n\n        @canvas.width = 500\n        @canvas.height = 450\n        @ctx = @canvas.getContext('2d')\n\n        @paddingLeft = 50\n        @paddingRight = 0\n        @paddingTop = 20\n        @paddingBottom = 50\n\n        requestAnimationFrame(@check)\n\n    check: =>\n        if document.body.contains(@canvas)\n            if @canvas.width != @canvas.clientWidth or @canvas.height != @canvas.clientHeight\n                @canvas.width = @canvas.clientWidth\n                @canvas.height = @canvas.clientHeight\n                @draw()\n            requestAnimationFrame(@check)\n\n    pruneData: (areaLabels, areas) ->\n        resultLabels = []\n        resultAreas = []\n        for i in [0...areaLabels.length]\n            max = 0\n            for item in areas[i]\n                max = Math.max(max, item.rel)\n\n            if max > 0.25/100\n                resultLabels.push areaLabels[i]\n                resultAreas.push areas[i]\n\n        #return [areaLabels, areas]\n        return [resultLabels, resultAreas]\n\n    update: ({areaLabels, @xLabels, data}) ->\n        width = @canvas.width\n        height = @canvas.height\n        ctx = @ctx\n\n        ctx.clearRect(0,0,width,height)\n\n        stacked = []\n        for item in data\n            values = []\n            sum = 1\n            for value in item\n                values.push(abs:sum, rel:value)\n                sum -= value\n            stacked.push(values)\n\n        areas = []\n        for i in [0...areaLabels.length]\n            series = []\n            for item in stacked\n                series.push(item[i])\n            areas.push series\n\n        [@areaLabels, @areas] = @pruneData(areaLabels, areas)\n\n        @count = data.length\n        @draw()\n\n    xToPos: (x) ->\n        f = x/(@count-1)\n        width = @canvas.width - @paddingLeft - @paddingRight\n        return @paddingLeft + f*width\n\n    yToPos: (y) ->\n        height = @canvas.height - @paddingTop - @paddingBottom\n        return @paddingTop + height-y*height\n\n    drawYAxis: ->\n        ctx = @ctx\n\n        height = 12\n        ctx.fillStyle = 'rgba(255,255,255,0.5)'\n        ctx.font = \"#{height}px 'Source Sans Pro'\"\n        ctx.textBaseline = 'middle'\n        ctx.textAlign = 'end'\n\n        for i in [0...5]\n            percent = (100-(i/4)*100).toFixed(0) + '%'\n            y = @yToPos(1-(i/4))\n            x = @paddingLeft - 10\n            ctx.fillText(percent, x, y)\n\n    drawXAxisMonths: ->\n        labels = @xLabels\n        currentMonth = null\n        days = null\n        months = []\n\n        for label, x in labels\n            month = label.split('-')[1]\n            if month != currentMonth\n                if days?\n                    months.push(days)\n                days = []\n                currentMonth = month\n\n            days.push(day:label, x:x)\n\n        if days?\n            months.push(days)\n\n\n        monthNames = [null,'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\n        ctx = @ctx\n        ctx.strokeStyle = 'rgba(0,0,0,0.3)'\n\n        height = 12\n        ctx.fillStyle = 'rgba(255,255,255,0.5)'\n        ctx.font = \"#{height}px 'Source Sans Pro'\"\n        ctx.textBaseline = 'alphabetic'\n        ctx.textAlign = 'center'\n\n        for month in months\n            x = month[0].x\n            num = parseInt(month[0].day.split('-')[1], 10)\n            name = monthNames[num]\n\n            ctx.beginPath()\n            ctx.moveTo(@xToPos(x), @yToPos(0))\n            ctx.lineTo(@xToPos(x), @yToPos(1))\n            ctx.stroke()\n\n            labelX = Math.floor((@xToPos(month[0].x) + @xToPos(month[month.length-1].x))/2)\n            labelY = Math.floor(@yToPos(0)) + height + 5\n            ctx.fillText(name, labelX, labelY)\n    \n    drawXAxisYears: ->\n        labels = @xLabels\n        currentYear = null\n        days = null\n        years = []\n\n        for label, x in labels\n            year = label.split('-')[0]\n            if year != currentYear\n                if days?\n                    years.push(days:days, name:currentYear)\n                days = []\n                currentYear = year\n\n            days.push(day:label, x:x)\n\n        if days?\n            years.push(days:days, name:year)\n\n        ctx = @ctx\n        ctx.strokeStyle = 'rgba(0,0,0,0.3)'\n\n        height = 12\n        ctx.fillStyle = 'rgba(255,255,255,0.5)'\n        ctx.font = \"#{height}px 'Source Sans Pro'\"\n        ctx.textBaseline = 'alphabetic'\n        ctx.textAlign = 'center'\n\n        for year in years\n            x = year.days[0].x\n            name = year.name\n\n            ctx.beginPath()\n            ctx.moveTo(@xToPos(x), @yToPos(0))\n            ctx.lineTo(@xToPos(x), @yToPos(1))\n            ctx.stroke()\n\n            labelX = Math.floor((@xToPos(year.days[0].x) + @xToPos(year.days[year.days.length-1].x))/2)\n            labelY = Math.floor(@yToPos(0)) + height + 5\n            ctx.fillText(name, labelX, labelY)\n\n    draw: ->\n        if not @areas?\n            return\n\n        areas = @areas\n        ctx = @ctx\n\n        for area, n in areas\n            [r,g,b] = colorStops[n%colorStops.length]\n\n            ctx.fillStyle = \"rgb(#{r},#{g},#{b})\"\n\n            ctx.beginPath()\n            ctx.moveTo(@xToPos(0),@yToPos(0))\n            ctx.lineTo(@xToPos(0), @yToPos(area[0].abs))\n            for x in [1...area.length]\n                ctx.lineTo(@xToPos(x), @yToPos(area[x].abs))\n            ctx.lineTo(@xToPos(@count-1), @yToPos(0))\n            ctx.closePath()\n            ctx.fill()\n           \n        ctx.strokeStyle = \"rgba(0,0,0,0.5)\"\n        for area in areas\n            ctx.beginPath()\n            ctx.moveTo(@xToPos(0), @yToPos(area[0].abs))\n            for x in [1...area.length]\n                ctx.lineTo(@xToPos(x), @yToPos(area[x].abs))\n            ctx.stroke()\n\n        @drawYAxis()\n        @drawXAxisYears()\n\n    getSlice: (f) ->\n        i = Math.round(f*(@count-1))\n        for area in @areas\n            area[i].abs\n\nclass Overlay\n    constructor: (parent, @chart, @table) ->\n        @canvas = $('<canvas class=\"overlay\"></canvas>')\n            .appendTo(parent)[0]\n\n        @ctx = @canvas.getContext('2d')\n\n        $(@chart.canvas)\n            .hover(@mouseenter, @mouseleave)\n            .mousemove(@mousemove)\n\n        requestAnimationFrame(@check)\n\n    check: =>\n        if document.body.contains(@canvas)\n            if @canvas.width != @canvas.clientWidth or @canvas.height != @canvas.clientHeight\n                @canvas.width = @canvas.clientWidth\n                @canvas.height = @canvas.clientHeight\n                @draw()\n            requestAnimationFrame(@check)\n    \n    mouseenter: =>\n        @hover = true\n\n    mouseleave: =>\n        @hover = false\n        @ctx.clearRect(0, 0, @canvas.width, @canvas.height)\n\n    mousemove: ({originalEvent}) =>\n        @draw(originalEvent)\n\n    draw: (event) ->\n        ctx = @ctx\n        ctx.clearRect(0, 0, @canvas.width, @canvas.height)\n\n        if not @hover\n            return\n\n        rect = @canvas.getBoundingClientRect()\n        chartRect = @chart.canvas.getBoundingClientRect()\n\n        chartLeft = chartRect.left - rect.left + @chart.paddingLeft\n        chartTop = chartRect.top - rect.top + @chart.paddingTop\n        chartRight = chartRect.right - rect.left - @chart.paddingRight\n        chartBottom = chartRect.bottom - rect.top - @chart.paddingBottom\n        width = chartRight - chartLeft\n        height = chartBottom - chartTop\n        \n        x = event.clientX - rect.left\n        y = event.clientY - rect.top\n\n\n        f = (x-chartLeft)/width\n\n        if f >= 0 and f <= 1\n            ctx.strokeStyle = 'rgba(0,0,0,0.3)'\n            ctx.beginPath()\n            ctx.moveTo(x, chartTop)\n            ctx.lineTo(x, chartBottom)\n            ctx.stroke()\n\n            slice = @chart.getSlice(f)\n\n            for value, n in slice\n                [r,g,b] = colorStops[n%colorStops.length]\n                color = \"rgb(#{r},#{g},#{b})\"\n                y = chartTop + (1-value)*height\n                \n                #@table.rows[n].percent.textContent = (value*100).toFixed(1)\n                #@table.rows[n].bar.css('width', value*100)\n                \n                #dots on the line\n                ctx.fillStyle = color\n                ctx.beginPath()\n                ctx.arc(x,y,3,0,Math.PI*2)\n                ctx.fill()\n                ctx.strokeStyle = \"rgba(0,0,0,0.4)\"\n                ctx.arc(x,y,3,0,Math.PI*2)\n                ctx.stroke()\n               \n                # labels\n\n            @drawLabels(slice, x, chartTop, height)\n            @updateTable(f)\n\n    updateTable: (f) ->\n        slice = @chart.getSlice(f)\n        for value, n in slice\n            @table.rows[n].percent.textContent = (value*100).toFixed(1)\n            @table.rows[n].bar.css('width', value*100)\n\n\n    drawLabels: (slice, x, chartTop, height) ->\n        fontSize = 14\n        @ctx.font = \"#{fontSize}px 'Source Sans Pro'\"\n        @ctx.textBaseline = 'middle'\n\n        labels = []\n        for value, i in slice\n            y = chartTop + (1-value)*height\n            label = @chart.areaLabels[i] + ' ='\n            percent = (value*100).toFixed(1) + '%'\n            [r,g,b] = colorStops[i%colorStops.length]\n            r = Math.round(r*0.75+255*0.25)\n            g = Math.round(g*0.75+255*0.25)\n            b = Math.round(b*0.75+255*0.25)\n            color = \"rgb(#{r},#{g},#{b})\"\n            labelWidth = @ctx.measureText(label).width\n            percentWidth = @ctx.measureText(percent).width\n\n            labels.push\n                label: label\n                labelWidth: labelWidth\n                percent: percent\n                percentWidth: percentWidth\n                width: labelWidth + percentWidth + 5\n                color: color\n                y: y\n\n        left = []\n        right = []\n        for label, i in labels\n            if i % 2 == 0\n                right.push(label)\n            else\n                left.push(label)\n\n        bevel = Math.round(fontSize/2 + 2)\n\n        @ctx.textAlign = 'left'\n        l = Math.round(x+6)\n        for item in right\n            y = Math.round(item.y)\n            t = y - bevel\n            b = y + bevel\n            r = l + item.width + bevel + 6\n            \n            @ctx.fillStyle = 'black'\n            @ctx.beginPath()\n            @ctx.moveTo(l,y)\n            @ctx.lineTo(l+bevel, t)\n            @ctx.lineTo(r, t)\n            @ctx.lineTo(r,b)\n            @ctx.lineTo(l+bevel, b)\n            @ctx.closePath()\n            @ctx.fill()\n\n            @ctx.strokeStyle = 'white'\n            @ctx.beginPath()\n            @ctx.moveTo(l,y)\n            @ctx.lineTo(l+bevel, t)\n            @ctx.lineTo(r, t)\n            @ctx.lineTo(r,b)\n            @ctx.lineTo(l+bevel, b)\n            @ctx.closePath()\n            @ctx.stroke()\n            \n            @ctx.fillStyle = item.color\n            @ctx.fillText(item.label, l+bevel+1, y)\n            \n            @ctx.fillStyle = 'white'\n            @ctx.fillText(item.percent, l+bevel+1+item.labelWidth + 5, y)\n        \n        @ctx.textAlign = 'left'\n        r = x - 6\n        for item in left\n            y = Math.round(item.y)\n            t = y - bevel\n            b = y + bevel\n            l = r - item.width - bevel - 6\n            \n            @ctx.fillStyle = 'black'\n            @ctx.beginPath()\n            @ctx.moveTo(r,y)\n            @ctx.lineTo(r-bevel, b)\n            @ctx.lineTo(l, b)\n            @ctx.lineTo(l,t)\n            @ctx.lineTo(r-bevel, t)\n            @ctx.closePath()\n            @ctx.fill()\n\n            @ctx.fillStyle = 'white'\n            @ctx.beginPath()\n            @ctx.moveTo(r,y)\n            @ctx.lineTo(r-bevel, b)\n            @ctx.lineTo(l, b)\n            @ctx.lineTo(l,t)\n            @ctx.lineTo(r-bevel, t)\n            @ctx.closePath()\n            @ctx.stroke()\n            \n            @ctx.fillStyle = item.color\n            @ctx.fillText(item.label, l+5, y)\n            \n            @ctx.fillStyle = 'white'\n            @ctx.fillText(item.percent, l+5+item.labelWidth + 5, y)\n\nexports.index = class StackedPercentage\n    constructor: ->\n        @elem = $('<div class=\"stacked-percentage\"></div>')\n        @chart = new Chart(@elem)\n        @table = new Table(@elem)\n        @overlay = new Overlay(@elem, @chart, @table)\n\n    update: (params) ->\n        @chart.update(params)\n        @table.fill(@chart.areaLabels)\n        @overlay.updateTable(1)\n",
    "mix = (a, b, f) ->\n    return Math.round(a*(1-f) + b*f).toFixed(0)\n\ncolorStops = [\n    [255,70,21]\n    [21,216,255]\n    [106,255,21]\n]\n\nexports.index = class Gauge\n    constructor: ({size,label}) ->\n        size ?= 'small'\n\n        @elem = $('<div class=\"gauge\"></div>')\n            .addClass(size)\n            .easyPieChart\n                animate: 1000\n                onStep: (start, end, value) =>\n                    percent.textContent = \"#{value.toFixed(0)}%\"\n\n                    f = value / 100\n\n                    c0 = Math.min(Math.floor(f*2), 1)\n                    c1 = c0+1\n                    f = (f%0.5)*2\n                    c0 = colorStops[c0]\n                    c1 = colorStops[c1]\n\n                    r = mix(c0[0], c1[0], f)\n                    g = mix(c0[1], c1[1], f)\n                    b = mix(c0[2], c1[2], f)\n\n                    @chart.options.barColor = \"rgb(#{r},#{g},#{b})\"\n\n                lineWidth: 8\n                #barColor: '#15ecff'\n                #barColor: 'rgb(106,255,21)' #good\n                #barColor: 'rgb(21,216,255)' #meh\n                barColor: 'rgb(255,70,21)' #bad\n                trackColor: 'rgba(255,255,255,0.05)'\n                scaleColor: 'rgba(255,255,255,0.2)'\n                size: if size=='small' then 80 else 160\n                lineCap: 'butt'\n    \n        percent = $('<div class=\"percent\">0%</div>').appendTo(@elem)[0]\n\n        if label?\n            @label = $('<label></label>')\n                .text(label)\n                .appendTo(@elem)\n\n        @chart = @elem.data('easyPieChart')\n\n    setLabel: (text) ->\n        if @label?\n            @label.text(text)\n\n    update: (value) ->\n        if isNaN(value)\n            value = 0\n        @chart.update(value)\n",
    "util = sys.import '/util'\n\nsmooth = (size, src) ->\n    values = src[..size]\n    for i in [size...src.length]\n        sum = 0\n        for j in [0...size]\n            sum += src[i-j]\n        sum/=size\n        values.push(sum)\n    return values\n\nexports.index = class Series\n    constructor: ->\n        @elem = $('<div class=\"series\"></div>')\n\n    update: (items) ->\n        values = for item in items\n            if item.total > 0\n                item.values[1]/item.total\n            else\n                0\n\n        #values = smooth(30, values)\n\n        @elem.sparkline values,\n            type:'line'\n            chartRangeMin:0\n            chartRangeMax:1\n            spotColor: false\n            minSpotColor: false\n            maxSpotColor: false\n            highlightLineColor: 'rgb(255,70,21)'\n            spotRadius: 0\n            lineColor: 'rgba(255,255,255,0.5)'\n            fillColor: '#348CFF'\n            height:300\n            width:'100%'\n            tooltipFormatter: (sparkline, options, fields) ->\n                x = fields.x\n                item = items[x]\n                if item.total > 0\n                    value = (item.values[1]/item.total)*100\n                else\n                    value = 0\n                return \"<span>#{item.name} - #{value.toFixed(0)}%<br/>(#{util.formatNumber(item.total)} samples)</span>\"\n",
    "db = sys.import 'db'\nutil = sys.import '/util'\nbehavior = sys.import 'behavior'\nTree = sys.import 'tree'\nEventHub = sys.import 'event-hub'\n\naddNode = (parent, parts, count, key) ->\n    parent.count += count\n    name = parts.shift()\n\n    if not parent.children?\n        parent.children = {}\n\n    child = parent.children[name]\n    if not child?\n        child = parent.children[name] = {count:0}\n\n    if parts.length > 0\n        addNode child, parts, count, key\n    else\n        child.count = count\n        child.key = key\n\nbuildTree = (items, counts) ->\n    root = {count:0}\n\n    for item, i in items\n        count = counts[i]\n        parts = item.split('|')\n        addNode root, parts, count, item\n\n    sortNode root\n    return root\n\nsortNode = (node) ->\n    if node.children?\n        children = for name, child of node.children\n            child.name = name\n            child\n\n        children.sort (a,b) ->\n            if a.count < b.count then return 1\n            else if a.count > b.count then return -1\n            return 0\n\n        for child in children\n            sortNode child\n\n        node.children = children\n\nexports.index = class Filter\n    constructor: (parent) ->\n        behavior.collapsable(@)\n        @parent = $(parent)\n        @link = @parent.find('a')\n        @container = $('<div></div>')\n            .appendTo(@parent)\n        \n        @container.css('display', 'block')\n        @container[0].style.height = '0px'\n        @height = util.measureHeight(@container[0])\n        @link.on 'click', @toggle\n        @expanded = false\n\n        @changeHandlers = new EventHub()\n\n        @tree = new Tree container:@container, checkChange:@filterChanged, name:'All'\n    \n        db.execute\n            query:\n                bucketBy:'platform'\n                start: -30\n            success: (result) =>\n                tree = buildTree result.keys, result.values\n\n                for item in tree.children\n                    @addNode @tree, tree, item\n        \n                @height = util.measureHeight(@container[0])\n\n        @platforms = null\n\n    onChange: (fun) ->\n        @changeHandlers.bind(fun)\n\n    offChange: (fun) ->\n        @changeHandlers.unbind(fun)\n\n    filterChanged: =>\n        if @tree.status == 'checked'\n            @platforms = null\n        else\n            values = []\n            @tree.visitActive (node) ->\n                if node.key?\n                    values.push(node.key)\n            @platforms = values\n        @changeHandlers.trigger(values)\n\n    addNode: (parentNode, dataParent, dataChild, depth=0) ->\n        name = dataChild.name + ' ' + Math.round(dataChild.count*100/dataParent.count).toFixed(0) + '%'\n        childNode = parentNode.add(name, if depth < 0 then true else false)\n        if dataChild.children?\n            for item in dataChild.children\n                @addNode childNode, dataChild, item, depth+1\n        else\n            childNode.key = dataChild.key\n    \n    toggle: =>\n        if @expanded\n            @collapse()\n        else\n            @expand()\n\n    expand: (instant=false) ->\n        behavior.collapse(@)\n        @parent.addClass('expanded')\n\n        @expanded = true\n        if instant\n            @container.addClass('notransition')\n\n        @container[0].style.height = @height + 'px'\n        util.after 0.4, =>\n            @container[0].style.height = 'auto'\n\n        if instant\n            @container[0].getBoundingClientRect()\n            @container.removeClass('notransition')\n\n    collapse: (instant=false) ->\n        if @expanded\n            @expanded = false\n            @height = util.measureHeight(@container[0])\n            @container.addClass('notransition')\n            @container[0].style.height = @height + 'px'\n            @container.removeClass('notransition')\n\n            util.nextFrame =>\n                @parent.removeClass('expanded')\n                if instant\n                    @container.addClass('notransition')\n                @container[0].style.height = '0px'\n                if instant\n                    @container[0].getBoundingClientRect()\n                    @container.removeClass('notransition')\n\n    visitActive: (fun) ->\n        @tree.visitActive(fun)\n",
    "exports.index = class Node\n    constructor: ({name, @container, @parent, @checkChange, @expanded}) ->\n        @checkChange ?= ->\n        @expanded ?= true\n\n        if name?\n            @item = $('<div></div>')\n                .text(name)\n                .appendTo(@container)\n                .click(@toggleExpand)\n\n            @checkbox = $('<span class=\"checkbox\"></span>')\n                .appendTo(@item)\n                .click(@toggleCheck)\n\n        @children = []\n        @setStatus 'checked'\n\n    toggleExpand: =>\n        if @expanded\n            @collapse()\n        else\n            @expand()\n\n    collapse: ->\n        @expanded = false\n        if @item?\n            @item.removeClass('expanded').addClass('collapsed')\n        if @list?\n            @list.hide()\n\n    expand: ->\n        @expanded = true\n        if @item?\n            @item.removeClass('collapsed').addClass('expanded')\n        if @list?\n            @list.show()\n\n    toggleCheck: (event) =>\n        event.preventDefault()\n        event.stopPropagation()\n\n        if @status == 'checked'\n            @uncheck()\n        else\n            @check()\n\n        if @parent?\n            @parent.updateCheck()\n        else\n            @checkChange()\n        \n    check: ->\n        if @checkbox?\n            @checkbox\n                .removeClass('unchecked')\n                .removeClass('semichecked')\n                .addClass('checked')\n\n        @setStatus 'checked'\n\n        for child in @children\n            child.check()\n\n    uncheck: ->\n        if @checkbox?\n            @checkbox\n                .addClass('unchecked')\n                .removeClass('semichecked')\n                .removeClass('checked')\n        @setStatus 'unchecked'\n\n        for child in @children\n            child.uncheck()\n\n    updateCheck: ->\n        allChecked = true\n        noneChecked = true\n\n        for child in @children\n            if child.status == 'checked' or child.status == 'semichecked'\n                noneChecked = false\n\n            if child.status != 'checked'\n                allChecked = false\n\n        if allChecked\n            @setStatus 'checked'\n        else if noneChecked\n            @setStatus 'unchecked'\n        else\n            @setStatus 'semichecked'\n\n        if @parent?\n            @parent.updateCheck()\n\n        @checkChange()\n\n    setStatus: (@status) ->\n        if @checkbox?\n            @checkbox\n                .removeClass('unchecked')\n                .removeClass('semichecked')\n                .removeClass('checked')\n                .addClass(@status)\n\n    add: (name, expanded=true) ->\n        if not @list?\n            @list = $('<ul></ul>')\n                .appendTo(@container)\n\n            if @expanded\n                if @item?\n                    @item.addClass('expanded')\n            else\n                if @item?\n                    @item.addClass('collapsed')\n                @list.hide()\n            \n            $('<span class=\"arrow\"></span>')\n                .prependTo(@item)\n\n        container = $('<li></li>').appendTo(@list)\n        node = new Node(name:name, container:container, parent:@, expanded:expanded)\n        @children.push node\n        return node\n\n    isActive: ->\n        return @status == 'checked' or @status == 'semichecked'\n\n    visitActive: (fun) ->\n        if @isActive()\n            fun(@)\n            for child in @children\n                child.visitActive(fun)\n",
    "exports.index = class EventHub\n    constructor: ->\n        @listeners = []\n\n    bind: (handler) ->\n        if handler not in @listeners\n            @listeners.push(handler)\n        return @\n\n    unbind: (handler) ->\n        idx = @listeners.indexOf(handler)\n        if idx >= 0\n            @listeners[idx] = null\n\n    trigger: (data) ->\n        listeners = []\n        for handler in @listeners\n            if handler?\n                handler(data)\n                listeners.push(handler)\n        @listeners = listeners\n        return @\n",
    "normalize = (labels, values) ->\n\n    total = 0\n    for value in values\n        total += value\n\n    newValues = []\n    cum = 1\n    for value, i in values\n        label = labels[i]\n        abs = value/total\n        newValues.push(abs:abs, cum:cum)\n        cum -= abs\n\n    values = newValues\n    newValues = []\n    newLabels = []\n    for value, i in values\n        label = labels[i]\n        if value.abs > 0.0001\n            newValues.push(value)\n            newLabels.push(label)\n\n    return [newLabels, newValues]\n\nexports.index = class Bar\n    constructor: ->\n        @elem = @table = $('<table class=\"data-table\"></table>')\n\n        $('<thead><tr><td>Value</td><td colspan=\"2\">Abs.</td><td colspan=\"2\">Cum.</td></thead>')\n            .appendTo(@table)\n\n        @tbody = $('<tbody></tbody>')\n            .appendTo(@table)\n\n    update: (labels, values) ->\n        [labels,values] = normalize(labels, values)\n\n        @tbody.remove()\n        @tbody = $('<tbody></tbody>')\n            .appendTo(@table)\n\n        @rows = []\n\n        for value, i in values\n            label = labels[i]\n            \n            row = $('<tr></tr>')\n                .appendTo(@tbody)\n            \n            $('<td></td>')\n                .text(label)\n                .appendTo(row)\n\n            $('<td class=\"percent\"></td>')\n                .text((value.abs*100).toFixed(1) + '%')\n                .appendTo(row)\n\n            $('<td class=\"bar\"><div></div></td>')\n                .appendTo(row)\n                .find('div')\n                .css('width', value.abs*100)\n            \n            $('<td class=\"percent\"></td>')\n                .text((value.cum*100).toFixed(1) + '%')\n                .appendTo(row)\n            \n            $('<td class=\"bar\"><div></div></td>')\n                .appendTo(row)\n                .find('div')\n                .css('width', value.cum*100)\n",
    "exports.measureHeight = (elem) ->\n    style = elem.style\n\n    origTransition = style.transition\n    origHeight = style.height\n\n    style.transition = 'none !important'\n    style.height = 'auto'\n    height = elem.getBoundingClientRect().height\n\n    style.height = origHeight\n    style.transition = origTransition\n\n    return height\n\nexports.after = (timeout, fun) ->\n    setTimeout(fun, timeout*1000)\n\nexports.nextFrame = (fun) ->\n    requestAnimationFrame(fun)\n\nexports.formatNumber = (n) ->\n    if n < 1e3\n        return n.toFixed(0)\n    else if n >= 1e3 and n < 1e6\n        return (n/1e3).toFixed(1) + 'k'\n    else if n >= 1e6 and n < 1e9\n        return (n/1e6).toFixed(1) + 'M'\n    else if n >= 1e9 and n < 1e12\n        return (n/1e9).toFixed(1) + 'G'\n    else\n        return (n/1e12).toFixed(1) + 'T'\n\nexports.parseQs = ->\n    null\n",
    "activatables = []\ncollapsables = []\n\nexports.activatable = (instance) ->\n    activatables.push instance\n\nexports.collapsable = (instance) ->\n    collapsables.push instance\n\nexports.collapse = (origin) ->\n    for instance in collapsables\n        if origin isnt instance\n            instance.collapse()\n\nexports.deactivate = ->\n    for instance in activatables\n        instance.deactivate()\n",
    "behavior = sys.import 'behavior'\n\nexports.index = class Search\n    constructor: ->\n        @index = lunr ->\n            @field 'title', boost:10\n            @field 'body'\n            @field 'extra'\n            @ref 'id'\n\n        @entries = {}\n\n    show: (query, instant) ->\n        query = query.get('query')\n        results = @index.search(query)\n\n        behavior.deactivate()\n        behavior.collapse()\n            \n        widget = $('<div class=\"full box\"></div>')\n            .appendTo('main')\n\n        $('<span>Search Results for: </span>')\n            .appendTo(widget)\n\n        $('<span class=\"query\"></span>')\n            .appendTo(widget)\n            .text('\"' + query + '\". ')\n\n        $(\"<span>#{results.length} results found.</span>\")\n            .appendTo(widget)\n\n        for result in results\n            entry = @entries[result.ref]\n\n            widget = $('<div class=\"full box search-result\"></div>')\n                .appendTo('main')\n\n            if entry.gauge?\n                entry.gauge().appendTo(widget)\n\n            text = $('<div></div>')\n                .appendTo(widget)\n\n            link = $('<a></a>')\n                .appendTo(text)\n                .attr('href', result.ref)\n                .text(entry.type + ' ' + entry.title)\n\n            $('<p></p>')\n                .appendTo(text)\n                .append(entry.body)\n\n    add: ({id,titles,body,extra,type,gauge}) ->\n        if not (titles instanceof Array)\n            titles = [titles]\n\n        extra ?= null\n\n        @entries[id] =\n            title: titles[0]\n            body: body\n            type: type\n            gauge: gauge\n\n        @index.add(id:id, title:titles.join(' '), body:body,extra:extra)\n"
  ],
  "sourceRoot": ".."
}